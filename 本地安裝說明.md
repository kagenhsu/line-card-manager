# LINE電子名片管理系統 - 本地安裝說明

## 🚀 快速開始

### 系統需求
- Python 3.8 或以上版本
- pip (Python 套件管理器)
- 現代瀏覽器 (Chrome, Firefox, Safari, Edge)

### 安裝步驟

#### 1. 解壓縮檔案
```bash
# 解壓縮下載的檔案
unzip line-card-manager-complete.zip
cd line-card-manager
```

#### 2. 建立虛擬環境 (建議)
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

#### 3. 安裝相依套件
```bash
pip install -r requirements.txt
```

#### 4. 啟動系統
```bash
python src/main.py
```

#### 5. 開啟瀏覽器
在瀏覽器中開啟：`http://localhost:5000`

## 📱 功能頁面

### 主要功能
- **管理後台**: `http://localhost:5000`
- **名片設計器**: `http://localhost:5000/card-builder.html`
- **專業設計器**: `http://localhost:5000/flex-card-builder.html`
- **名片展示廊**: `http://localhost:5000/card-gallery.html`

### 測試流程

#### 1. 設定LINE Bot (可選)
1. 開啟管理後台
2. 點擊「LINE設定」
3. 輸入您的LINE Channel Access Token和Channel Secret
4. 測試連線

#### 2. 建立客戶資料
1. 在管理後台點擊「新增客戶」
2. 填寫客戶基本資料
3. 儲存客戶資料

#### 3. 設計電子名片
**方式一：使用專業設計器**
1. 開啟 `http://localhost:5000/flex-card-builder.html`
2. 填寫個人資訊和聯絡方式
3. 選擇顏色主題和樣式
4. 即時預覽名片效果
5. 點擊「建立名片」上架

**方式二：使用簡易設計器**
1. 開啟 `http://localhost:5000/card-builder.html`
2. 填寫名片資訊
3. 選擇主題色彩
4. 預覽並上架名片

#### 4. 管理已上架名片
1. 開啟 `http://localhost:5000/card-gallery.html`
2. 查看所有已上架的名片
3. 檢視統計資料和瀏覽次數
4. 分享或複製名片連結

## 🔧 設定說明

### 環境變數設定
複製 `.env.example` 為 `.env` 並填入設定：

```env
# LINE Bot 設定 (可選)
LINE_CHANNEL_ACCESS_TOKEN=your_channel_access_token
LINE_CHANNEL_SECRET=your_channel_secret

# 資料庫設定
DATABASE_URL=sqlite:///src/database/app.db

# 應用程式設定
FLASK_ENV=development
SECRET_KEY=your_secret_key
```

### 資料庫
系統使用SQLite資料庫，檔案位於 `src/database/app.db`
首次啟動時會自動建立所需的資料表。

## 📋 功能測試清單

### ✅ 基本功能測試
- [ ] 系統啟動成功
- [ ] 管理後台可正常開啟
- [ ] 新增客戶功能正常
- [ ] 客戶資料搜尋功能正常
- [ ] 客戶資料修改功能正常

### ✅ 名片設計功能測試
- [ ] 專業設計器可正常開啟
- [ ] 即時預覽功能正常
- [ ] 顏色選擇功能正常
- [ ] 表單驗證功能正常
- [ ] 草稿儲存功能正常

### ✅ 名片上架功能測試
- [ ] 名片上架功能正常
- [ ] 分享連結生成正常
- [ ] 名片展示頁面正常
- [ ] QR Code生成正常
- [ ] 瀏覽次數統計正常

### ✅ LINE功能測試 (需要LINE Bot設定)
- [ ] LINE設定功能正常
- [ ] 連線測試功能正常
- [ ] 發送名片功能正常
- [ ] 批量發送功能正常

## 🛠️ 常見問題

### Q: 系統啟動失敗
**A:** 檢查Python版本和相依套件是否正確安裝
```bash
python --version  # 確認Python版本
pip list          # 檢查已安裝套件
```

### Q: 無法開啟網頁
**A:** 確認系統已正常啟動，並檢查防火牆設定
- 確認終端顯示 "Running on http://127.0.0.1:5000"
- 嘗試使用 `http://127.0.0.1:5000` 而非 `localhost`

### Q: 名片預覽不正常
**A:** 檢查瀏覽器控制台是否有JavaScript錯誤
- 按F12開啟開發者工具
- 查看Console標籤是否有錯誤訊息
- 嘗試重新整理頁面

### Q: LINE功能無法使用
**A:** 確認LINE Bot設定正確
- 檢查Channel Access Token格式
- 確認Channel Secret正確
- 測試LINE Bot連線狀態

## 📁 檔案結構

```
line-card-manager/
├── src/
│   ├── main.py                 # 主程式入口
│   ├── models/                 # 資料模型
│   │   ├── customer.py         # 客戶資料模型
│   │   ├── published_card.py   # 名片資料模型
│   │   └── ...
│   ├── routes/                 # API路由
│   │   ├── customer.py         # 客戶管理API
│   │   ├── card_publisher.py   # 名片上架API
│   │   └── ...
│   ├── services/               # 服務層
│   │   └── line_service.py     # LINE服務
│   ├── static/                 # 前端檔案
│   │   ├── index.html          # 管理後台
│   │   ├── flex-card-builder.html  # 專業設計器
│   │   ├── card-gallery.html   # 名片展示廊
│   │   └── ...
│   └── database/               # 資料庫檔案
├── requirements.txt            # Python相依套件
├── .env.example               # 環境變數範例
├── README.md                  # 專案說明
└── 本地安裝說明.md            # 本檔案
```

## 🎯 使用建議

### 開發模式
- 修改程式碼後需要重新啟動系統
- 使用 `Ctrl+C` 停止系統
- 重新執行 `python src/main.py` 啟動

### 生產部署
- 設定 `FLASK_ENV=production`
- 使用 Gunicorn 或 uWSGI 部署
- 設定反向代理 (Nginx)
- 使用 PostgreSQL 或 MySQL 資料庫

## 📞 技術支援

如有任何問題，請檢查：
1. Python版本是否符合需求
2. 相依套件是否正確安裝
3. 防火牆和網路設定
4. 瀏覽器控制台錯誤訊息

---

**LINE電子名片管理系統** - 讓您的名片管理更加專業高效！

